# 函数式编程与 JavaScript 性能优化

## 函数式编程（FP）

+ 与面向对象并列
+ 函数式编程是对运算过程的抽象
+ 函数式编程中的函数不是程序中的函数（方法），贰拾数学中的函数
+ 相同的输入始终要得到相同的输出（纯函数）
+ 函数式编程就是用来描述数据（函数）之间的映射
+ 优势：函数可以复用

### 函数是一等公民

+ 函数可以存储在变量中
+ 函数可以作为参数
+ 函数可以作为返回值

### 高阶函数

+ 可以把函数作为参数传递给另一个函数
+ 可以把函数作为另一个函数的返回结果
+ 意义：
    - 抽象可以帮我们屏蔽细节，只需要关注我们的目标
    - 高阶函数是用来抽象通用的问题

### 闭包

+ 可以在另一个作用域中调用一盒函数内部函数并访问到该函数的作用域中的成员
+ 本质：函数在执行的时候会放到一个执行栈上当函数执行完毕后，会从执行栈上移除，，**但是堆上的作用域成员因为被外部引用不能被释放**，因此内部函数依然可以访问外部函数的成员

### 纯函数
+ 相同的输入永远会得到相同的输出，而且没有任何可观察的副作用
+ 函数式编程不会保留计算中间的结果，所以变量是不可以变的（无状态的）
+ 我们可以把一个函数的执行结果交给另一个函数去处理
+ 优点：
    - 可缓存
    - 可测试
    - 并行处理

### 函数的副作用

副作用让一个函数变得不纯，所有的外部交互都有可能带来副作用，副作用也使得方法通用性下降不适合扩展和可重用性，同时副作用会给程序中带来安全隐患给程序带来不确定性，但是副作用不可能完全禁止，需要尽可能控制他们在可控范围内发生。

来源：
    + 配置文件
    + 数据库
    + 用户输入
    + ……

### 柯里化
+ 当一个函数有多个参数的时候可以先传递一部分参数调用它（这部分参数以后永远不变）
+ 然后返回一个新的函数接收剩余的参数，返回结果
+ 总结：
    - 柯里化可以让我们给一个函数传递较少的参数得到一个已经记住了某些固定参数的新函数
    - 这是一种对函数参数的缓存
    - 让函数变得更灵活，让函数的粒度更小
    - 可以把多元函数转换成一元函数，可以组合使用函数的产生强大的功能

### 函数组合

+ 纯函数和柯里化很容易写出洋葱代码
+ 函数组合可以让我们把细粒度的函数重新组合成一个新的函数
+ 可以让函数可以最大限度的重用

#### 管道

+ 函数就想是数据的管道，函数组合就是把这些管道连接起来，让数据穿过多个管道形成最终结果
+ 函数组合默认从右到左执行

### Point Free

+ 不需要指明处理的数据
+ 只需要合成运算过程
+ 需要定义一些辅助的基本运算函数

### Functor(函子)

+ 容器：包含值和值得变形关系（函数）
+ 函子：是一个特殊的容器，通过一个普通的对象来实现，该对象具有map方法，map方法可以运行一个函数对值进行处理