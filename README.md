# 王昱旸 | Part 2 | 模块一

## 简答题

### 第一题

#### 题目

1.描述引用计数的工作原理和优缺点

#### 解答

- 引用计数算法的工作原理：

  - 在内部维护一个引用计数器，来维护内部对象的引用数，根据当前当前引用数是否为 0 来判断该对象是否为垃圾对象，当引用数为 0 时将其释放回收和再使用

- 优点：

  - 发现垃圾时立即回收
  - 最大限度减少程序卡顿时间

- 缺点：
  - 无法回收循环引用的对象
  - 资源消耗大

### 第二题

#### 题目

2.描述标记整理算法的工作流程

#### 解答

标记清除算法分为标记和清除两个阶段完成，主要工作流程如下：

- 遍历所有对象找到活动对象（可达对象），并进行标记
- 遍历所有对象清除没有标记对象，并抹除之前的标记便与 GC 的后续操作
- 回收相应的空间

### 第三题

#### 题目

3.描述 V8 中新生代储存区垃圾回收的流程

#### 解答

- 回收过程采用复制算法+标记整理两个算法
- 新生代内存会区分为两个等大小空间
- 使用的空间我们称之为 From，空闲空间称之为 To
- 活动对象储存于 From 空间中
- 标记整理后将活动对象拷贝至 To
- From 与 To 交换空间完成后释放内存

### 第四题

#### 题目

4.描述增量标记算法在何时使用及工作原理

#### 解答

- 何时使用：在 V8 老生代存储区垃圾回收时，会使用增量标记算法来优化回收性能
- 工作原理：将一次性的垃圾回收拆分成多次标记和标记完成后的清除，从而尽可能少的阻塞程序的执行

### 代码题

见 code/operation
